+++
date = "2015-03-17T16:16:17+09:00"
draft = true
title = "デプロイ自動化とServerspec"
+++

はじめに[Serverspec本]()の献本ありがとうございました．書評に代えて現チームで僕がどのようにserverspecを導入したかについて書きたいと思います．

今のチームではサーバーのセッアップにChef-solo（+Capistrano）を使っている．本書にも書かれているようにこのような構成管理ツールを使っている場合は基本はそのツールを信頼するべきであり，Serverspecのような状態テストツールは必要ない．僕らのチームもそのような理由でServerspecの導入には至っていなかった．

が，アプリケーションが複雑になり，Chefのレシピも混沌としてくるとそれは成立しなくなる．見通しの悪いレシピはChefへの信頼度を落とす．信頼度の低下はデプロイ不信に繋がり，やがて人手（筋肉）によるテストが始まる．

サーバーの数がそこまで多くなければなんとか運用できるかもしれない．がサーバーの数が膨大になるとデプロイのひとなる仕事が登場する．デプロイの人は同じ作業を繰り返すデプロイマシンと化し、変な筋肉がつき始める（ゴルフ筋）．

